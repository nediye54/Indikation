<!DOCTYPE html>
<html>
<head>
<title>History</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="container">
<h1>Diagnosis History</h1>
<div id="list"></div>
</div>

<script>
const API = "https://api.mdg-indikation.de";
const clientId = localStorage.getItem("mdg_client_id");

(async ()=>{
  const res = await fetch(`${API}/api/diagnoses?client_id=${clientId}`);
  const data = await res.json();

  const list = document.getElementById("list");

  data.items?.forEach(item=>{
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <p><strong>ID:</strong> ${item.id}</p>
      <p><strong>Date:</strong> ${item.created_at}</p>
    `;
    list.appendChild(div);
  });
})();
</script>
</body>
</html>
