<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Indikation – nach der Moral des Gleichgewichts</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <main class="wrap">

    <header class="hero">
      <h1>Indikation</h1>
      <p class="sub">nach der Moral des Gleichgewichts</p>
    </header>

    <section class="card">
      <h2>Quick Scan</h2>
      <p class="muted">
        Denke an das zu messende soziale System und beantworte jede Frage mit einer von drei Antwortoptionen.
      </p>

      <div class="btnRow">
        <button id="btnEval" class="btn primary" type="button">Auswerten</button>
        <button id="btnReset" class="btn" type="button">Zurücksetzen</button>
      </div>

      <div id="errorBox" class="errorBox hidden"></div>

      <div class="footnote">v2 · Vanilla · Dark UI · 3 Antwortstufen</div>
    </section>

    <section class="card">
      <h2>Fragen</h2>
      <div id="questions" class="questions"></div>
    </section>

    <section id="results" class="card hidden">
      <h2>Ergebnis</h2>

      <div class="grid2">
        <div class="panel">
          <h3>Radar</h3>
          <div id="plot3d" class="plot"></div>
        </div>

        <div class="panel">
          <h3>Scores</h3>
          <div id="bars" class="bars"></div>
        </div>
      </div>

      <div class="grid2">
        <div class="panel">
          <h3>Schwächste Variable</h3>
          <div id="weakest"></div>
        </div>

        <div class="panel">
          <h3>Zeitfenster</h3>
          <div id="timewin"></div>
        </div>
      </div>

      <div class="panel">
        <h3>Quick-Übersicht (3 schwächste)</h3>
        <div id="deepDive"></div>
      </div>

      <section class="panel">
        <div class="ddHead">
          <h3>Deep Dive</h3>
          <div class="ddMini muted">
            Privat ist niedrigschwellig & kompakt. Business ist ausführlicher und kann tokenbasiert freigeschaltet werden.
          </div>
        </div>

        <div class="modeRow">
          <div class="modeLabel">Modus</div>
          <div class="modeSwitch" role="tablist" aria-label="Deep Dive Modus">
            <button id="modePrivate" class="modeBtn isActive" type="button" aria-selected="true">Privat</button>
            <button id="modeBusiness" class="modeBtn" type="button" aria-selected="false">Business</button>
          </div>
        </div>

        <div id="tokenRow" class="tokenRow hidden">
          <label class="tokenLabel" for="tokenInput">Business Token</label>
          <div class="tokenInputWrap">
            <input id="tokenInput" class="tokenInput" type="text" autocomplete="off"
                   placeholder="z.B. MDG-XXXX-XXXX" />
            <button id="tokenClear" class="tokenClear" type="button" title="Token löschen">×</button>
          </div>
          <div id="tokenHint" class="tokenHint">Token wird nur für Business benötigt.</div>
        </div>

        <button id="deepDiveBtn" class="btnWide" type="button">
          Stabilisierende Indikation erzeugen
        </button>

        <div id="deepDiveStatus" class="deepDiveStatus hidden"></div>
        <div id="deepDiveOut" class="deepDiveOut" style="display:none;"></div>
      </section>
    </section>

    <footer class="footer muted">
      <span>© Indikation</span>
    </footer>
  </main>

  <script src="./script.js"></script>
</body>
</html>
